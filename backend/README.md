# DebugAgent API (Go Version)

DebugAgent is a Go API that uses an AI agent to analyze the structure of a software project, read files, and provide detailed explanations in response to questions.

## Features

- Exposes an API for project analysis.
- Automatically analyzes the structure of a project.
- Reads and summarizes relevant files.
- Generates detailed explanations to answer questions about the project via Ollama.

## Prerequisites

Before using DebugAgent, make sure you have the following:

- **Go 1.18+** installed on your machine.
- **Ollama** running on your machine.

## Installation and Launch

1. Clone the repository:
   ```bash
   git clone <REPOSITORY_URL>
   cd <DIRECTORY_NAME>
   ```

2. Install Go dependencies:
   ```bash
   go mod tidy
   ```

3. Configure the application:
   The application is configured using a combination of a configuration file and environment variables. The configuration is loaded in the following order of precedence (lowest to highest):
   1. `config.default.yaml`
   2. `config.yaml`
   3. Environment variables

   You can create a `config.yaml` file to override the default values. You can also override any value using environment variables. The environment variables must be prefixed with `DEBUGAGENT_` and the keys must be in uppercase, with `.` replaced by `_`.

   For example, to change the Ollama host, you can set the `DEBUGAGENT_OLLAMA_HOST` environment variable:
   ```bash
   export DEBUGAGENT_OLLAMA_HOST="http://my-ollama-host:11434"
   ```

4. Launch the server:
   ```bash
   go run .
   ```
   The server will start and listen on the configured port (default: 8080).

## API Usage

To analyze a project, send a `POST` request to the `/analyze` endpoint.

### Example with `curl`

```bash
curl -X POST http://localhost:8080/analyze \
-H "Content-Type: application/json" \
-d '{
    "project_path": "/path/to/your/project",
    "question": "Explain the purpose of the main file in this project."
}'
```

### Request Parameters

- `project_path` (string, required): The absolute path to the project directory you want to analyze.
- `question` (string, required): The question you are asking about the project.

### Response

The API will return a JSON response containing the explanation generated by the AI.

```json
{
    "answer": "The explanation generated by the AI about the project..."
}
```

## Contribution

Contributions are welcome! If you want to contribute, please open an issue or submit a pull request.

## License

This project is licensed under the Creative Commons BY-NC license. See the `LICENSE` file for more information.
